<ion-header>
  <ion-toolbar>
    <ion-title>Favorites</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <ion-grid>
    <ion-row *ngIf="favorites && favorites.length != undefined">
      <ion-col>
        <ion-label>
          Favorites
          <ion-badge color="primary">{{favorites.length}}</ion-badge>
        </ion-label>
      </ion-col>
      <ion-col size="8">
        <ion-searchbar placeholder="Search favorites"></ion-searchbar>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-list *ngIf="favorites">
          <ion-item-sliding *ngFor="let fav of favorites;">
            <ion-item button [href]="'event/' + fav.id" detail="true">
              <ion-avatar slot="start">
                <img src="{{fav.images[0].url}}" alt="{{fav.images[0].fallback}}">
              </ion-avatar>
              <ion-label>{{fav.name}}</ion-label>
            </ion-item>
            <ion-item-options side="end">
              <ion-item-option color="danger" (click)="removeFromFavorites(fav)">
                <ion-icon name="trash"></ion-icon>
                Delete
              </ion-item-option>
            </ion-item-options>
          </ion-item-sliding>
        </ion-list>

        <ion-card *ngIf="favorites == null || favorites.length == 0">
          <ion-card-content>
            <ion-button expand="full" color="danger">
              <ion-icon name="alert"></ion-icon>
              <ion-label>
                No favorites found
              </ion-label>
            </ion-button>
            <ion-text>
              <br/>
              <h2><b>Keep track of your favorite events!</b></h2>
              <h3>Add your favorite events by pressing on the
                <ion-icon name="heart"></ion-icon>
                -icon in the <b>featured page</b> or the events in the <b>find nearby page</b>!
              </h3>
            </ion-text>
            <br/>
            <ion-button size="small" href="tabs/featured">
              <ion-icon name="star"></ion-icon>
              <ion-label>
                Go to <b>Featured</b> page
              </ion-label>
            </ion-button>
            <ion-button size="small" href="tabs/findnearby">
              <ion-icon name="search"></ion-icon>
              <ion-label>
                Go to <b>Find</b> page
              </ion-label>
            </ion-button>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
